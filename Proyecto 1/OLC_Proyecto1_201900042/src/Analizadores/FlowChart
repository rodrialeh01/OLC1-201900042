package analizadores; 
import Clases.ErrorLenguaje;
import java_cup.runtime.*;
import Structures.Instrucciones.Comentarios;
import Structures.Instrucciones.Declaracion;
import Structures.Instrucciones.Instruccion;
import Structures.Instrucciones.Operacion;
import Structures.Instrucciones.Si;
import Structures.Instrucciones.Main;
import Structures.Instrucciones.Asignacion;
import Structures.Instrucciones.Case;
import Structures.Instrucciones.SeleccionMultiple;
import Structures.Instrucciones.Para;
import Structures.Instrucciones.Mientras;
import Structures.Instrucciones.Repetir;
import Structures.Instrucciones.Impresion;
import Structures.Instrucciones.Ejecutar;
import Structures.Instrucciones.Parametro;
import Structures.Instrucciones.Funciones;
import Structures.Instrucciones.Metodo;
import Structures.Instrucciones.Retornar;
import java.util.LinkedList;
import Structures.Nodo;
import Structures.Arbol;


parser code 
{:
    /**
    *Listas
    **/

    public Nodo Raiz;
    /**
     * Método al que se llama automáticamente ante algún error sintactico.
     **/ 
    public void syntax_error(Symbol s){
        
        System.out.println("Error Sintáctico en la Línea " + (s.left) +
        " Columna "+s.right+ ". No se esperaba este componente: " +s.value+"."); 
    } 

    /**
     * Método al que se llama automáticamente ante algún error sintáctico 
     * en el que ya no es posible una recuperación de errores.
     **/ 
    public void unrecovered_syntax_error(Symbol s) throws java.lang.Exception{ 
        
        System.out.println("Error síntactico irrecuperable en la Línea " + 
        (s.left)+ " Columna "+s.right+". Componente " + s.value + 
        " no reconocido."); 
    }
:} 

terminal String RINICIO,RFIN,RMETODO,RFINMETODO,RFUNCION,RFINFUNCION,RCONPARAMETROS,RRETORNAR,RINGRESAR,RCOMO,RCONVALOR,RSI,RENTONCES,ROSI,RDELOCONTRARIO,RFINSI,RSEGUN,RHACER,RFINSEGUN;
terminal String COMENTARIOL,COMENTARIOML,RPARA,RHASTA,RCONINCREMENTAL,RFINPARA,RMIENTRAS,RFINMIENTRAS,RREPETIR,RHASTAQUE,REJECUTAR,RIMPRIMIR,RIMPRIMIRNL;
terminal String IDENTIFICADOR;
terminal String ENTERO;
terminal String CARASCCI;
terminal String CADENA;
terminal String CARACTER;
terminal String DECIMAL;
terminal String SUMA,RESTA,MULTIPLICACION,DIVIDIR,MODU,POTENCIA;
terminal String RMAYOR,RMENOR,RMAYOROIGUAL,RMENOROIGUAL,RESIGUAL,RESDIFERENTE,ROR,RAND,RNOT;
terminal String RNUMERO,RCADENA,RBOOLEAN,RCARACTER;
terminal String RVERDADERO,RFALSO;
terminal String PARIZQ,PARDER,INTABRE,INTCIERRA,FLECHA,PTCOMA,COMA,CORIZQ,CORDER;

non terminal Nodo INICIO;
non terminal Nodo INSTRUCCIONES;
non terminal Nodo DECLARACION;
non terminal Nodo LISTA_IDENTIFICADORES;
non terminal Nodo ASIGNACION;
non terminal Nodo EXPRESION;
non terminal Nodo TIPODATO;
non terminal Nodo FUNCION;
non terminal Nodo METODO;
non terminal Nodo GLOBAL;
non terminal Nodo LISTA_PARAMETROS;
non terminal Nodo ENTORNO_LOCAL;
non terminal Nodo CONDICIONAL_SI;
non terminal Nodo CONDICION;
non terminal Nodo LOCAL;
non terminal Nodo LISTA_OSI;
non terminal Nodo SELECCION_MULTIPLE;
non terminal Nodo LISTA_VALORENTONCES;
non terminal Nodo CICLO_PARA;
non terminal Nodo CICLO_MIENTRAS;
non terminal Nodo CICLO_REPETIR;
non terminal Nodo EJECUTAR;
non terminal Nodo IMPRESION;
non terminal Nodo IMPRESION_CONSALTO;
non terminal Nodo ALGORITMO;
non terminal Nodo MAIN;
non terminal Nodo COMENTARIOS;
non terminal Nodo COMENTARIO;
non terminal Nodo INSERCION_PARAMETROS;
non terminal Nodo EJECUTAR_2;
non terminal Nodo RELACIONAL;
non terminal Nodo FYM;
non terminal Nodo AGRUPACION;

precedence left SUMA,RESTA;
precedence left MULTIPLICACION,DIVIDIR;
precedence left POTENCIA,MODU;

//-------------------------------------------GRAMATICA SINTACTICA-------------------------------------------------
start with INICIO; 

INICIO::=INSTRUCCIONES:a                                                                                {:
                                                                                                            RESULT = new Nodo("INICIO","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            Raiz = RESULT;
                                                                                                        :}                                                                           
;
INSTRUCCIONES::=MAIN:a                                                                                  {:
                                                                                                            RESULT = new Nodo("INSTRUCCIONES","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |COMENTARIOS                                                                           
               |error 
;
MAIN::=RINICIO ALGORITMO:a RFIN                                                                         {:
                                                                                                            RESULT = new Nodo("MAIN","");
                                                                                                            RESULT.agregarHijo(new Nodo("inicio","INICIO"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("fin","FIN"));
                                                                                                        :}                                                         
      |RINICIO RFIN                                                                                     {:
                                                                                                            RESULT = new Nodo("MAIN","");
                                                                                                            RESULT.agregarHijo(new Nodo("inicio","INICIO"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin","FIN"));
                                                                                                        :}
;
COMENTARIOS::=COMENTARIOS COMENTARIO
             |COMENTARIO
;
COMENTARIO::=COMENTARIOL:a                                                                              {:  
                                                                                                            RESULT = new Nodo("COMENTARIO","");
                                                                                                            RESULT.agregarHijo(new Nodo(a,"COMENTARIO_UNILINEA"));
                                                                                                        :}
            |COMENTARIOML:a                                                                             {:  
                                                                                                            RESULT = new Nodo("COMENTARIO","");
                                                                                                            RESULT.agregarHijo(new Nodo(a,"COMENTARIO_MULTILINEA"));
                                                                                                        :}
;
ALGORITMO::=ALGORITMO:a GLOBAL:b                                                                        {:  
                                                                                                            RESULT = new Nodo("ALGORITMO","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}                                                                                     
           |GLOBAL:a                                                                                    {:  
                                                                                                            RESULT = new Nodo("ALGORITMO","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
;
GLOBAL::= ENTORNO_LOCAL:a                                                                               {:  
                                                                                                            RESULT = new Nodo("GLOBAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
         |FYM:a                                                                                         {:  
                                                                                                            RESULT = new Nodo("GLOBAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
;
FYM::=FUNCION:a                                                                                         {:  
                                                                                                            RESULT = new Nodo("FYM","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
     |METODO:a                                                                                          {:  
                                                                                                            RESULT = new Nodo("FYM","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
;
DECLARACION::=RINGRESAR LISTA_IDENTIFICADORES:l RCOMO TIPODATO:b RCONVALOR CONDICION:e PTCOMA           {:  
                                                                                                            RESULT = new Nodo("DECLARACION","");
                                                                                                            RESULT.agregarHijo(new Nodo("ingresar","INGRESAR"));
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo("como","COMO"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("con_valor","CON_VALOR"));
                                                                                                            RESULT.agregarHijo(e);
                                                                                                            RESULT.agregarHijo(new Nodo(";","PUNTO_Y_COMA"));
                                                                                                        :}
;
LISTA_IDENTIFICADORES::=LISTA_IDENTIFICADORES:a COMA IDENTIFICADOR:b                                    {:  
                                                                                                            RESULT = new Nodo("LISTA_IDENTIFICADORES","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo(",", "COMA"));
                                                                                                            RESULT.agregarHijo(new Nodo(b, "IDENTIFICADOR"));
                                                                                                        :} 
                       |IDENTIFICADOR:a                                                                 {:  
                                                                                                            RESULT = new Nodo("LISTA_IDENTIFICADORES","");
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                        :}
;
EXPRESION::=ENTERO:a                                                                                    {:  
                                                                                                            RESULT=new Nodo(a,"ENTERO");
                                                                                                        :}
            |DECIMAL:a                                                                                  {:  
                                                                                                            RESULT=new Nodo(a, "DECIMAL");
                                                                                                        :}
            |CADENA:a                                                                                   {:  
                                                                                                            RESULT=new Nodo(a, "CADENA");
                                                                                                        :}
            |CARACTER:a                                                                                 {:  
                                                                                                            RESULT=new Nodo(a, "CARACTER");
                                                                                                        :}
            |CARASCCI:a                                                                                 {:  
                                                                                                            RESULT=new Nodo(a, "ASCCI");
                                                                                                        :}
            |RVERDADERO:a                                                                               {:  
                                                                                                            RESULT=new Nodo(a, "VERDADERO");
                                                                                                        :}
            |RFALSO:a                                                                                   {:  
                                                                                                            RESULT=new Nodo(a, "FALSO");
                                                                                                        :}
            |IDENTIFICADOR:a                                                                            {:  
                                                                                                            RESULT=new Nodo(a, "IDENTIFICADOR");
                                                                                                        :}
            |RESTA EXPRESION:a                                                                          {:  
                                                                                                            RESULT=new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(new Nodo("-","NEGATIVO"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
            |EXPRESION:a SUMA EXPRESION:b                                                               {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("+", "SUMA"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :} 
            |EXPRESION:a RESTA EXPRESION:b                                                              {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("-", "RESTA"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :} 
            |EXPRESION:a MULTIPLICACION EXPRESION:b                                                     {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("*", "MULTIPLICACION"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :} 
            |EXPRESION:a DIVIDIR EXPRESION:b                                                            {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("/", "DIVISION"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}        
            |EXPRESION:a POTENCIA CORIZQ EXPRESION:b CORDER                                             {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("potencia", "POTENCIA"));
                                                                                                            RESULT.agregarHijo(new Nodo("[", "CORCHETE_ABRE"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("[", "CORCHETE_CIERRA"));
                                                                                                        :} 
            |EXPRESION:a MODU EXPRESION:b                                                               {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("modulo", "MODULO"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
            |AGRUPACION:a                                                                               {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}  
            |EJECUTAR_2:a                                                                               {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
;
RELACIONAL::=EXPRESION:a                                                                                {:  
                                                                                                            RESULT = new Nodo("RELACIONAL", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
           |EXPRESION:a RMAYOR EXPRESION:b                                                              {:  
                                                                                                            RESULT = new Nodo("RELACIONAL", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("mayor", "MAYOR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
           |EXPRESION:a RMENOR EXPRESION:b                                                              {:  
                                                                                                            RESULT = new Nodo("RELACIONAL", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("menor", "MENOR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
           |EXPRESION:a RMAYOROIGUAL EXPRESION:b                                                        {:  
                                                                                                            RESULT = new Nodo("RELACIONAL", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("mayor_o_igual", "MAYOR_O_IGUAL"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
           |EXPRESION:a RMENOROIGUAL EXPRESION:b                                                        {:  
                                                                                                            RESULT = new Nodo("RELACIONAL", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("menor_o_igual", "MENOR_O_IGUAL"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
           |EXPRESION:a RESIGUAL EXPRESION:b                                                            {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("es_igual", "ES_IGUAL"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
           |EXPRESION:a RESDIFERENTE EXPRESION:b                                                        {:  
                                                                                                            RESULT = new Nodo("EXPRESION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("es_diferente", "ES_DIFERENTE"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
;
CONDICION::=RELACIONAL:a ROR RELACIONAL:b                                                               {:  
                                                                                                            RESULT = new Nodo("CONDICION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("or", "OR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
           |RELACIONAL:a RAND RELACIONAL:b                                                              {:  
                                                                                                            RESULT = new Nodo("CONDICION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("and", "AND"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
           |RNOT RELACIONAL:a                                                                           {:  
                                                                                                            RESULT = new Nodo("CONDICION", "");
                                                                                                            RESULT.agregarHijo(new Nodo("not", "NOT"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
           |RELACIONAL:a                                                                                {:  
                                                                                                            RESULT = new Nodo("CONDICION", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
;
AGRUPACION::=PARIZQ CONDICION:a PARDER                                                                  {:  
                                                                                                            RESULT = new Nodo("AGRUPACION", "");
                                                                                                            RESULT.agregarHijo(new Nodo("(", "PARENTESIS_ABRE"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo(")", "PARENTESIS_CIERRA"));
                                                                                                        :}  
;
ASIGNACION::=LISTA_IDENTIFICADORES:l FLECHA EXPRESION:e PTCOMA                                          {:  
                                                                                                            RESULT = new Nodo("ASIGNACION", "");
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo("->", "FLECHA"));
                                                                                                            RESULT.agregarHijo(e);
                                                                                                            RESULT.agregarHijo(new Nodo(";", "PUNTO_Y_COMA"));
                                                                                                        :}
;
FUNCION::=RFUNCION IDENTIFICADOR:a TIPODATO:b LOCAL:c RRETORNAR CONDICION:d PTCOMA RFINFUNCION          {:  
                                                                                                            RESULT = new Nodo("FUNCION", "");
                                                                                                            RESULT.agregarHijo(new Nodo("funcion", "FUNCION"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo("retornar", "RETORNAR"));
                                                                                                            RESULT.agregarHijo(d);
                                                                                                            RESULT.agregarHijo(new Nodo(";", "PUNTO_Y_COMA"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin_funcion", "FIN_FUNCION"));
                                                                                                        :}
         |RFUNCION IDENTIFICADOR:a TIPODATO:b RRETORNAR CONDICION:c PTCOMA RFINFUNCION                  {:  
                                                                                                            RESULT = new Nodo("FUNCION", "");
                                                                                                            RESULT.agregarHijo(new Nodo("funcion", "FUNCION"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("retornar", "RETORNAR"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo(";", "PUNTO_Y_COMA"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin_funcion", "FIN_FUNCION"));
                                                                                                        :}
         |RFUNCION IDENTIFICADOR:a TIPODATO:b RCONPARAMETROS PARIZQ LISTA_PARAMETROS:l PARDER LOCAL:c RRETORNAR CONDICION:d PTCOMA RFINFUNCION{:  
                                                                                                            RESULT = new Nodo("FUNCION", "");
                                                                                                            RESULT.agregarHijo(new Nodo("funcion", "FUNCION"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("con_parametros", "CON_PARAMETROS"));
                                                                                                            RESULT.agregarHijo(new Nodo("(", "PARENTESIS_IZQUIERDO"));
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo(")", "PARENTESIS_DERECHO"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo("retornar", "RETORNAR"));
                                                                                                            RESULT.agregarHijo(d);
                                                                                                            RESULT.agregarHijo(new Nodo(";", "PUNTO_Y_COMA"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin_funcion", "FIN_FUNCION"));
                                                                                                        :}
         |RFUNCION IDENTIFICADOR:a TIPODATO:b RCONPARAMETROS PARIZQ LISTA_PARAMETROS:l PARDER RRETORNAR CONDICION:c PTCOMA RFINFUNCION{:  
                                                                                                            RESULT = new Nodo("FUNCION", "");
                                                                                                            RESULT.agregarHijo(new Nodo("funcion", "FUNCION"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("con_parametros", "CON_PARAMETROS"));
                                                                                                            RESULT.agregarHijo(new Nodo("(", "PARENTESIS_IZQUIERDO"));
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo(")", "PARENTESIS_DERECHO"));
                                                                                                            RESULT.agregarHijo(new Nodo("retornar", "RETORNAR"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo(";", "PUNTO_Y_COMA"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin_funcion", "FIN_FUNCION"));
                                                                                                        :}
;
METODO::=RMETODO IDENTIFICADOR:a LOCAL:b RFINMETODO                                                     {:  
                                                                                                            RESULT = new Nodo("METODO", "");
                                                                                                            RESULT.agregarHijo(new Nodo("metodo", "METODO"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_metodo", "FIN_METODO"));
                                                                                                        :}
        |RMETODO IDENTIFICADOR:a RFINMETODO                                                             {:  
                                                                                                            RESULT = new Nodo("METODO", "");
                                                                                                            RESULT.agregarHijo(new Nodo("metodo", "METODO"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin_metodo", "FIN_METODO"));
                                                                                                        :}
        |RMETODO IDENTIFICADOR:a RCONPARAMETROS PARIZQ LISTA_PARAMETROS:l PARDER LOCAL:b RFINMETODO     {:  
                                                                                                            RESULT = new Nodo("METODO", "");
                                                                                                            RESULT.agregarHijo(new Nodo("metodo", "METODO"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("con_parametros", "CON_PARAMETROS"));
                                                                                                            RESULT.agregarHijo(new Nodo("(", "PARENTESIS_IZQUIERDO"));
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo(")", "PARENTESIS_DERECHO"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_metodo", "FIN_METODO"));
                                                                                                        :}
        |RMETODO IDENTIFICADOR:a RCONPARAMETROS PARIZQ LISTA_PARAMETROS:l PARDER RFINMETODO             {:  
                                                                                                            RESULT = new Nodo("METODO", "");
                                                                                                            RESULT.agregarHijo(new Nodo("metodo", "METODO"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("con_parametros", "CON_PARAMETROS"));
                                                                                                            RESULT.agregarHijo(new Nodo("(", "PARENTESIS_IZQUIERDO"));
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo(")", "PARENTESIS_DERECHO"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin_metodo", "FIN_METODO"));
                                                                                                        :}
;
LISTA_PARAMETROS::=LISTA_PARAMETROS:l COMA IDENTIFICADOR:a TIPODATO:b                                   {:  
                                                                                                            RESULT = new Nodo("LISTA_PARAMETROS", "");
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo(",", "COMA"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
                  |IDENTIFICADOR:a TIPODATO:b                                                           {:  
                                                                                                            RESULT = new Nodo("LISTA_PARAMETROS", "");
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :} 
;
TIPODATO::=RNUMERO:a                                                                                    {:  
                                                                                                            RESULT = new Nodo("TIPODATO", "");
                                                                                                            RESULT.agregarHijo(new Nodo(a, "NUMERO"));
                                                                                                        :} 
          |RCADENA:a                                                                                    {:  
                                                                                                            RESULT = new Nodo("TIPODATO", "");
                                                                                                            RESULT.agregarHijo(new Nodo(a, "RCADENA"));
                                                                                                        :} 
          |RBOOLEAN:a                                                                                   {:  
                                                                                                            RESULT = new Nodo("TIPODATO", "");
                                                                                                            RESULT.agregarHijo(new Nodo(a, "BOOLEAN"));
                                                                                                        :} 
          |RCARACTER:a                                                                                  {:  
                                                                                                            RESULT = new Nodo("TIPODATO", "");
                                                                                                            RESULT.agregarHijo(new Nodo(a, "CARACTER"));
                                                                                                        :} 
;
LOCAL::=LOCAL:a ENTORNO_LOCAL:b                                                                         {:  
                                                                                                            RESULT = new Nodo("LOCAL", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}  
       |ENTORNO_LOCAL:a                                                                                 {:  
                                                                                                            RESULT = new Nodo("LOCAL", "");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :} 
;
ENTORNO_LOCAL::=ASIGNACION:a                                                                            {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |DECLARACION:a                                                                           {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |CONDICIONAL_SI:a                                                                        {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |SELECCION_MULTIPLE:a                                                                    {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :} 
               |CICLO_PARA:a                                                                            {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |CICLO_MIENTRAS:a                                                                        {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |CICLO_REPETIR:a                                                                         {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |EJECUTAR:a                                                                              {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |IMPRESION:a                                                                             {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |IMPRESION_CONSALTO:a                                                                    {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
               |COMENTARIO:a                                                                            {:  
                                                                                                            RESULT = new Nodo("ENTORNO_LOCAL","");
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
;
CONDICIONAL_SI::=RSI CONDICION:a RENTONCES LOCAL:b RFINSI                                               {:  
                                                                                                            RESULT = new Nodo("CONDICIONAL_SI","");
                                                                                                            RESULT.agregarHijo(new Nodo("si", "SI"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("entonces", "ENTONCES"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_si", "FIN_SI"));
                                                                                                        :}                                
                |RSI CONDICION:a RENTONCES LOCAL:b LISTA_OSI:l RFINSI                                   {:  
                                                                                                            RESULT = new Nodo("CONDICIONAL_SI","");
                                                                                                            RESULT.agregarHijo(new Nodo("si", "SI"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("entonces", "ENTONCES"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_si", "FIN_SI"));
                                                                                                        :}     
                |RSI CONDICION:a RENTONCES LOCAL:b LISTA_OSI:l RDELOCONTRARIO LOCAL:c RFINSI            {:  
                                                                                                            RESULT = new Nodo("CONDICIONAL_SI","");
                                                                                                            RESULT.agregarHijo(new Nodo("si", "SI"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("entonces", "ENTONCES"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo("de_lo_contrario", "DE_LO_CONTRARIO"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_si", "FIN_SI"));
                                                                                                        :}
                |RSI CONDICION:a RENTONCES LOCAL:b RDELOCONTRARIO LOCAL:c RFINSI                        {:  
                                                                                                            RESULT = new Nodo("CONDICIONAL_SI","");
                                                                                                            RESULT.agregarHijo(new Nodo("si", "SI"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("entonces", "ENTONCES"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("de_lo_contrario", "DE_LO_CONTRARIO"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_si", "FIN_SI"));
                                                                                                        :}
;
LISTA_OSI::=LISTA_OSI:l ROSI CONDICION:c RENTONCES LOCAL:d                                              {:  
                                                                                                            RESULT = new Nodo("LISTA_OSI","");
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo("o_si","O_SI"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo("entonces", "ENTONCES"));
                                                                                                            RESULT.agregarHijo(d);
                                                                                                        :} 
            |ROSI CONDICION:e RENTONCES LOCAL:f                                                         {:  
                                                                                                            RESULT = new Nodo("LISTA_OSI","");
                                                                                                            RESULT.agregarHijo(new Nodo("o_si","O_SI"));
                                                                                                            RESULT.agregarHijo(e);
                                                                                                            RESULT.agregarHijo(new Nodo("entonces", "ENTONCES"));
                                                                                                            RESULT.agregarHijo(f);
                                                                                                        :}
;
SELECCION_MULTIPLE::=RSEGUN EXPRESION:a RHACER LISTA_VALORENTONCES:l RFINSEGUN                          {:  
                                                                                                            RESULT = new Nodo("SELECCION_MULTIPLE","");
                                                                                                            RESULT.agregarHijo(new Nodo("segun", "SEGUN"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("hacer", "HACER"));
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_segun", "FIN_SEGUN"));
                                                                                                        :}
                    |RSEGUN EXPRESION:a RHACER LISTA_VALORENTONCES:l RDELOCONTRARIO RENTONCES LOCAL:b RFINSEGUN{:  
                                                                                                            RESULT = new Nodo("SELECCION_MULTIPLE","");
                                                                                                            RESULT.agregarHijo(new Nodo("segun", "SEGUN"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("hacer", "HACER"));
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo("de_lo_contrario", "DE_LO_CONTRARIO"));
                                                                                                            RESULT.agregarHijo(new Nodo("entonces", "ENTONCES"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_segun", "FIN_SEGUN"));
                                                                                                        :} 
;
LISTA_VALORENTONCES::=LISTA_VALORENTONCES:l INTABRE EXPRESION:e INTCIERRA RENTONCES LOCAL:a             {:  
                                                                                                            RESULT = new Nodo("LISTA_VALORENTONCES","");
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo("¿","INTERROGACION_ABRE"));
                                                                                                            RESULT.agregarHijo(e);
                                                                                                            RESULT.agregarHijo(new Nodo("?","INTERROGACION_CIERRA"));
                                                                                                            RESULT.agregarHijo(new Nodo("entonces", "ENTONCES"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
                     |INTABRE EXPRESION:e INTCIERRA RENTONCES LOCAL:a                                   {:  
                                                                                                            RESULT = new Nodo("LISTA_VALORENTONCES","");
                                                                                                            RESULT.agregarHijo(new Nodo("¿","INTERROGACION_ABRE"));
                                                                                                            RESULT.agregarHijo(e);
                                                                                                            RESULT.agregarHijo(new Nodo("?","INTERROGACION_CIERRA"));
                                                                                                            RESULT.agregarHijo(new Nodo("entonces", "ENTONCES"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
;
CICLO_PARA::=RPARA IDENTIFICADOR:a FLECHA EXPRESION:b RHASTA EXPRESION:c RHACER LOCAL:d RFINPARA        {:  
                                                                                                            RESULT = new Nodo("CICLO_PARA","");
                                                                                                            RESULT.agregarHijo(new Nodo("para", "PARA"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("->", "FLECHA"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("hasta", "HASTA"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo("hacer", "HACER"));
                                                                                                            RESULT.agregarHijo(d);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_para", "FIN_PARA"));
                                                                                                        :}
            |RPARA IDENTIFICADOR:a FLECHA EXPRESION:b RHASTA EXPRESION:c RHACER RFINPARA                {:  
                                                                                                            RESULT = new Nodo("CICLO_PARA","");
                                                                                                            RESULT.agregarHijo(new Nodo("para", "PARA"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("->", "FLECHA"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("hasta", "HASTA"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo("hacer", "HACER"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin_para", "FIN_PARA"));
                                                                                                        :}
            |RPARA IDENTIFICADOR:a FLECHA EXPRESION:b RHASTA EXPRESION:c RCONINCREMENTAL EXPRESION:d RHACER LOCAL:e RFINPARA {:  
                                                                                                            RESULT = new Nodo("CICLO_PARA","");
                                                                                                            RESULT.agregarHijo(new Nodo("para", "PARA"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("->", "FLECHA"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("hasta", "HASTA"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo("con_incremental", "CON_INCREMENTAL"));
                                                                                                            RESULT.agregarHijo(d);
                                                                                                            RESULT.agregarHijo(new Nodo("hacer", "HACER"));
                                                                                                            RESULT.agregarHijo(e);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_para", "FIN_PARA"));
                                                                                                        :}
            |RPARA IDENTIFICADOR:a FLECHA EXPRESION:b RHASTA EXPRESION:c RCONINCREMENTAL EXPRESION:d RHACER RFINPARA {:  
                                                                                                            RESULT = new Nodo("CICLO_PARA","");
                                                                                                            RESULT.agregarHijo(new Nodo("para", "PARA"));
                                                                                                            RESULT.agregarHijo(new Nodo(a, "IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("->", "FLECHA"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("hasta", "HASTA"));
                                                                                                            RESULT.agregarHijo(c);
                                                                                                            RESULT.agregarHijo(new Nodo("con_incremental", "CON_INCREMENTAL"));
                                                                                                            RESULT.agregarHijo(d);
                                                                                                            RESULT.agregarHijo(new Nodo("hacer", "HACER"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin_para", "FIN_PARA"));
                                                                                                        :}
;
CICLO_MIENTRAS::=RMIENTRAS CONDICION:a RHACER LOCAL:b RFINMIENTRAS                                      {:  
                                                                                                            RESULT = new Nodo("CICLO_MIENTRAS","");
                                                                                                            RESULT.agregarHijo(new Nodo("mientras", "MIENTRAS"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("hacer", "HACER"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                            RESULT.agregarHijo(new Nodo("fin_mientras", "FIN_MIENTRAS"));
                                                                                                        :}
                |RMIENTRAS CONDICION:a RHACER RFINMIENTRAS                                              {:  
                                                                                                            RESULT = new Nodo("CICLO_MIENTRAS","");
                                                                                                            RESULT.agregarHijo(new Nodo("mientras", "MIENTRAS"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("hacer", "HACER"));
                                                                                                            RESULT.agregarHijo(new Nodo("fin_mientras", "FIN_MIENTRAS"));
                                                                                                        :}
;
CICLO_REPETIR::=RREPETIR LOCAL:a RHASTAQUE CONDICION:b                                                  {:  
                                                                                                            RESULT = new Nodo("CICLO_REPETIR","");
                                                                                                            RESULT.agregarHijo(new Nodo("repetir", "REPETIR"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo("hasta_que", "HASTA_QUE"));
                                                                                                            RESULT.agregarHijo(b);
                                                                                                        :}
               |RREPETIR RHASTAQUE CONDICION:a                                                          {:  
                                                                                                            RESULT = new Nodo("CICLO_REPETIR","");
                                                                                                            RESULT.agregarHijo(new Nodo("repetir", "REPETIR"));
                                                                                                            RESULT.agregarHijo(new Nodo("hasta_que", "HASTA_QUE"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                        :}
;
EJECUTAR::=REJECUTAR IDENTIFICADOR:a PARIZQ PARDER PTCOMA                                               {:  
                                                                                                            RESULT = new Nodo("EJECUTAR","");
                                                                                                            RESULT.agregarHijo(new Nodo("ejecutar", "EJECUTAR"));
                                                                                                            RESULT.agregarHijo(new Nodo(a,"IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("(", "PARENTESIS_IZQUIERDO"));
                                                                                                            RESULT.agregarHijo(new Nodo(")", "PARENTESIS_DERECHO"));
                                                                                                            RESULT.agregarHijo(new Nodo(";", "PUNTO_Y_COMA"));
                                                                                                        :}
           |REJECUTAR IDENTIFICADOR:a PARIZQ INSERCION_PARAMETROS:l PARDER PTCOMA                       {:  
                                                                                                            RESULT = new Nodo("EJECUTAR","");
                                                                                                            RESULT.agregarHijo(new Nodo("ejecutar", "EJECUTAR"));
                                                                                                            RESULT.agregarHijo(new Nodo(a,"IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("(", "PARENTESIS_IZQUIERDO"));
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo(")", "PARENTESIS_DERECHO"));
                                                                                                            RESULT.agregarHijo(new Nodo(";", "PUNTO_Y_COMA"));
                                                                                                        :}
;
EJECUTAR_2::=REJECUTAR IDENTIFICADOR:a PARIZQ PARDER                                                    {:  
                                                                                                            RESULT = new Nodo("EJECUTAR2","");
                                                                                                            RESULT.agregarHijo(new Nodo("ejecutar", "EJECUTAR"));
                                                                                                            RESULT.agregarHijo(new Nodo(a,"IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("(", "PARENTESIS_IZQUIERDO"));
                                                                                                            RESULT.agregarHijo(new Nodo(")", "PARENTESIS_DERECHO"));
                                                                                                        :}
            |REJECUTAR IDENTIFICADOR:a PARIZQ INSERCION_PARAMETROS:l PARDER                             {:  
                                                                                                            RESULT = new Nodo("EJECUTAR2","");
                                                                                                            RESULT.agregarHijo(new Nodo("ejecutar", "EJECUTAR"));
                                                                                                            RESULT.agregarHijo(new Nodo(a,"IDENTIFICADOR"));
                                                                                                            RESULT.agregarHijo(new Nodo("(", "PARENTESIS_IZQUIERDO"));
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo(")", "PARENTESIS_DERECHO"));
                                                                                                        :}
;
INSERCION_PARAMETROS::=INSERCION_PARAMETROS:l COMA EXPRESION:e                                          {:  
                                                                                                            RESULT = new Nodo("INSERCION_PARAMETROS","");
                                                                                                            RESULT.agregarHijo(l);
                                                                                                            RESULT.agregarHijo(new Nodo(",", "COMA"));
                                                                                                            RESULT.agregarHijo(e);
                                                                                                        :}
                      |EXPRESION:e                                                                      {:  
                                                                                                            RESULT = new Nodo("INSERCION_PARAMETROS","");
                                                                                                            RESULT.agregarHijo(e);
                                                                                                        :}
;
IMPRESION::=RIMPRIMIR EXPRESION:a PTCOMA                                                                {:  
                                                                                                            RESULT = new Nodo("IMPRESION","");
                                                                                                            RESULT.agregarHijo(new Nodo("imprimir","IMPRIMIR"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo(";","PUNTO_Y_COMA"));
                                                                                                        :}
;
IMPRESION_CONSALTO::= RIMPRIMIRNL EXPRESION:a PTCOMA                                                    {:  
                                                                                                            RESULT = new Nodo("IMPRESION_CONSALTO","");
                                                                                                            RESULT.agregarHijo(new Nodo("imprimir_nl","IMPRIMIR_NL"));
                                                                                                            RESULT.agregarHijo(a);
                                                                                                            RESULT.agregarHijo(new Nodo(";","PUNTO_Y_COMA"));
                                                                                                        :}
;
