package analizadores; 
import java_cup.runtime.*;

parser code 
{:
    /**
     * Método al que se llama automáticamente ante algún error sintactico.
     **/ 
    public void syntax_error(Symbol s){ 
        System.out.println("Error Sintáctico en la Línea " + (s.left) +
        " Columna "+s.right+ ". No se esperaba este componente: " +s.value+"."); 
    } 

    /**
     * Método al que se llama automáticamente ante algún error sintáctico 
     * en el que ya no es posible una recuperación de errores.
     **/ 
    public void unrecovered_syntax_error(Symbol s) throws java.lang.Exception{ 
        System.out.println("Error síntactico irrecuperable en la Línea " + 
        (s.left)+ " Columna "+s.right+". Componente " + s.value + 
        " no reconocido."); 
    }  
:} 

//TERMINALES
terminal String RINICIO,RFIN,COMENTARIOL,COMENTARIOML,RMETODO,RFINMETODO,RFUNCION,RFINFUNCION,RCONPARAMETROS,RRETORNAR,RINGRESAR,RCOMO,RCONVALOR,RSI,RENTONCES,ROSI,RDELOCONTRARIO,RFINSI,RSEGUN,RHACER,RFINSEGUN;
terminal String RPARA,RHASTA,RHACER,RCONINCREMENTAL,RFINPARA,RMIENTRAS,RFINMIENTRAS,RREPETIR,RHASTAQUE;
terminal String NOMBRE;
terminal String IDENTIFICADOR;
terminal String ENTERO;
terminal String DECIMAL;
terminal String SUMA,RESTA,MULTIPLICACION,DIVISION,MODULAR,POTENCIA;
terminal String RNUMERO,RCADENA,RBOOLEAN,RCARACTER;
terminal String RVERDADERO,RFALSO;
terminal String PARIZQ PARDER,FLECHA,PTCOMA,COMA;

//NO TERMINALES
non terminal INICIO;
non terminal INSTRUCCIONES;
non terminal INSTRUCCION;
non terminal ALGORITMO;
non terminal ALGORITMOF;
non terminal ALGORITM;
non terminal LISTAPARAMETROS;
non terminal RETORNAR;
non terminal TIPODATO;
non terminal DECLARACION;
non terminal DECLARACIONMULTIPLE;
non terminal ASIGNACION;
non terminal ASIGNACIONMULTIPLE;
non terminal CONDICIONALSI;
non terminal SELECCIONMULTIPLE;
non terminal CICLOPARA;
non terminal CICLOMIENTRAS;
non terminal CICLOREPETIRHASTA;
non terminal IMPRIMIR;
non terminal IMPRIMIRCONSALTO;
non terminal CONDICION;
non terminal FINCONDICIONAL;
non terminal FINSELECCION;
non terminal VALOR;
non terminal VALORIF;
non terminal RETORNO;
non terminal RETORNOVALOR;

//PRECEDENCIA
precedence left SUMA,RESTA;
precedence left MULTIPLICACION,DIVISION, MODULAR;
precedence left POTENCIA;

//-------------------------------------------GRAMATICA SINTACTICA-------------------------------------------------
start with INICIO; 

INICIO::=INSTRUCCIONES;

INSTRUCCIONES ::= INSTRUCCION INSTRUCCIONES
                  | INSTRUCCION
                  | error INSTRUCCIONES
; 

INSTRUCCION ::= RINICIO ALGORITMO RFIN
                |COMENTARIOL
                |COMENTARIOML
                |RMETODO NOMBRE ALGORITMO RFINMETODO
                |RMETODO NOMBRE RCONPARAMETROS PARIZQ LISTAPARAMETROS PARDER ALGORITMO RFINMETODO
                |RFUNCION NOMBRE TIPODATO ALGORITMOF RFINFUNCION
                |RFUNCION NOMBRE TIPODATO RCONPARAMETROS PARIZQ LISTAPARAMETROS PARDER ALGORITMOF RFINFUNCION 
                |error
;
ALGORITMO ::= ALGORITM ALGORITMO
              |ALGORITM
              |error
;
ALGORITM ::= DECLARACIÓN
             |DECLARACIONMULTIPLE
             |ASIGNACION
             |CONDICIONALSI
             |SELECCIONMULTIPLE
             |CICLOPARA
             |CICLOMIENTRAS
             |CICLOREPETIRHASTA
             |EJECUTAR
             |IMPRIMIR
             |IMPRIMIRCONSALTO
             |COMENTARIOL
             |COMENTARIOML
             |BLANCOS
             |error
;
ALGORITMOF ::= ALGORITM RETORNO
              |ALGORITM
              |error
;
LISTAPARAMETROS ::= LISTAPARAMETROS PTCOMA
                    |IDENTIFICADOR TIPODATO COMA
                    |IDENTIFICADOR TIPODATO
                    |error
;
TIPODATO ::= RNUMERO
             |RCADENA
             |RBOOLEAN
             |RCARACTER
             |error
;
DECLARACION ::= RINGRESAR DECLARACIONMULTIPLE RNUMERO RCONVALOR EXPRESION PTCOMA
                |RINGRESAR DECLARACIONMULTIPLE RCADENA RCONVALOR CADENA PTCOMA
                |RINGRESAR DECLARACIONMULTIPLE RBOOLEAN RCONVALOR RVERDADERO PTCOMA
                |RINGRESAR DECLARACIONMULTIPLE RBOOLEAN RCONVALOR RFALSO PTCOMA
                |RINGRESAR DECLARACIONMULTIPLE RCARACTER RCONVALOR ASCII PTCOMA 
                |RINGRESAR DECLARACIONMULTIPLE RCARACTER RCONVALOR CARACTER PTCOMA
                |error
;
DECLARACIONMULTIPLE ::= DECLARACIONMULTIPLE RCOMO
                        |IDENTIFICADOR COMA
                        |IDENTIFICADOR
                        |error
;
EXPRESION ::= MENOS EXPRESION
              |EXPRESION SUMA
              |EXPRESION RESTA
              |EXPRESION MULTIPLICACION
              |EXPRESION DIVISION
              |EXPRESION POTENCIA
              |EXPRESION MODULAR
              |ENTERO
              |DECIMAL
              |PARIZQ EXPRESION PARDER
;
ASIGNACION ::= ASIGNACIONMULTIPLE EXPRESION PTCOMA
               |ASIGNACIONMULTIPLE CADENA PTCOMA
               |ASIGNACIONMULTIPLE RVERDADERO PTCOMA
               |ASIGNACIONMULTIPLE RFALSO PTCOMA
               |ASIGNACIONMULTIPLE ASCII PTCOMA
               |ASIGNACIONMULTIPLE CARACTER PTCOMA
               |error
;
ASIGNACIONMULTIPLE ::= ASIGNACIONMULTIPLE FLECHA
                       |IDENTIFICADOR COMA
                       |IDENTIFICADOR
                       |error
;
CONDICIONALSI ::= RSI CONDICION RENTONCES FINCONDICIONAL;
FINCONDICIONAL ::= FINCONDICIONAL RFINSI
                   |ALGORITMO RDELOCONTRARIO ALGORITMO
                   |ALGORITMO ROSI CONDICION RENTONCES
                   |ALGORITMO
                   |error
;
SELECCIONMULTPLE ::= RSEGUN VALOR RHACER FINSELECCION;
FINSELECCION ::= FINSELECCION RFINSEGUN
                 |VALOR ENTONCES ALGORITMO
                 |RDELOCONTRARIO ENTONCES ALGORITMO
                 |error
;
VALOR ::= ENTERO
          |DECIMAL
          |CADENA
          |IDENTIFICADOR
          |CARACTER
          |EXPRESION
          |error
;
CICLOPARA ::= RPARA IDENTIFICADOR FLECHA VALORIF RHASTA VALORIF HACER ALGORITMO RFINPARA
              |PARA IDENTIFICADOR FLECHA VALORIF HASTA VALORIF RCONINCREMENTAL ENTERO HACER ALGORITMO RFINPARA
              |error
;
VALORIF ::= IDENTIFICADOR
            |EXPRESION
            |error
;
CICLOMIENTRAS ::= RMIENTRAS CONDICION RHACER ALGORITMO RFINMIENTRAS
                  |error
;
CICLOREPETIRHASTA ::= RREPETIR ALGORITMO RHASTAQUE CONDICION
                      |error
;
RETORNO ::= RRETORNAR RETORNOVALOR PTCOMA
            |error
;
RETORNOVALOR ::= EXPRESION
                 |CONDICION
                 |error
;
EJECUTAR ::= REJECUTAR NOMBRE PARDER PARIZQ PTCOMA
             |REJECUTAR NOMBRE PARDER IDS PTCOMA
             |error
;
PARAMETROS ::=  PARAMETROS PARIZQ
                |IDENTIFICADOR COMA
                |EXPRESION COMA
                |EXPRESION
                |CADENA COMA
                |CADENA
                |RVERDADERO COMA
                |RFALSO COMA
                |RVERDADERO
                |RFALSO
                |error
;
IMPRIMIR ::= RIMIPRIMIR EXPRESION PTCOMA
             |RIMPRIMIR IDENTIFICADOR PTCOMA
             |RIMPRIMIR CADENA PTCOMA
             |RIMPRIMIR RVERDADERO PTCOMA
             |RIMPRIMIR RFALSO PTCOMA
             |error
;
IMPRIMIRCONSALTO ::= RIMPRIMIRNL EXPRESION PTCOMA
                    |RIMPRIMIRNL IDENTIFICADOR PTCOMA
                    |RIMPRIMIRNL CADENA PTCOMA
                    |RIMPRIMIRNL RVERDADERO PTCOMA
                    |RIMPRIMIRNL RFALSO PTCOMA
;
CONDICION ::= IDENTIFICADOR
              |error
;