package analizadores; 
import java_cup.runtime.*;

parser code 
{:
    /**
     * Método al que se llama automáticamente ante algún error sintactico.
     **/ 
    public void syntax_error(Symbol s){ 
        System.out.println("Error Sintáctico en la Línea " + (s.left) +
        " Columna "+s.right+ ". No se esperaba este componente: " +s.value+"."); 
    } 

    /**
     * Método al que se llama automáticamente ante algún error sintáctico 
     * en el que ya no es posible una recuperación de errores.
     **/ 
    public void unrecovered_syntax_error(Symbol s) throws java.lang.Exception{ 
        System.out.println("Error síntactico irrecuperable en la Línea " + 
        (s.left)+ " Columna "+s.right+". Componente " + s.value + 
        " no reconocido."); 
    }  
:} 

terminal String RINICIO,RFIN,COMENTARIOL,COMENTARIOML,RMETODO,RFINMETODO,RFUNCION,RFINFUNCION,RCONPARAMETROS,RRETORNAR,RINGRESAR,RCOMO,RCONVALOR,RSI,RENTONCES,ROSI,RDELOCONTRARIO,RFINSI,RSEGUN,RHACER,RFINSEGUN;
terminal String RPARA,RHASTA,RCONINCREMENTAL,RFINPARA,RMIENTRAS,RFINMIENTRAS,RREPETIR,RHASTAQUE,REJECUTAR,RIMPRIMIR,RIMPRIMIRNL;
terminal String IDENTIFICADOR;
terminal String ENTERO;
terminal String CARASCCI;
terminal String CADENA;
terminal String CARACTER;
terminal String DECIMAL;
terminal String SUMA,RESTA,MULTIPLICACION,DIVIDIR,MODULAR,POTENCIA,IGUAL;
terminal String RNUMERO,RCADENA,RBOOLEAN,RCARACTER;
terminal String RVERDADERO,RFALSO;
terminal String PARIZQ PARDER,FLECHA,PTCOMA,COMA,INTABRE,INTCIERRA,CORIZQ,CORDER;

non terminal INICIO;
non terminal INSTRUCCIONES;
non terminal INSTRUCCION;
non terminal ALGORITMO;
non terminal ALGORITMOF;
non terminal ALGORITM;
non terminal LISTAPARAMETROS;
non terminal RETORNAR;
non terminal TIPODATO;
non terminal DECLARACION;
non terminal DECLARACIONMULTIPLE;
non terminal ASIGNACION;
non terminal ASIGNACIONMULTIPLE;
non terminal CONDICIONALSI;
non terminal SELECCIONMULTIPLE;
non terminal CICLOPARA;
non terminal CICLOMIENTRAS;
non terminal CICLOREPETIRHASTA;
non terminal IMPRIMIR;
non terminal IMPRIMIRCONSALTO;
non terminal CONDICION;
non terminal FINCONDICIONAL;
non terminal FINSELECCION;
non terminal VALOR;
non terminal VALORIF;
non terminal RETORNO;
non terminal RETORNOVALOR;
non terminal PARAMETROS;

precedence left SUMA,RESTA;
precedence left MULTIPLICACION,DIVIDIR;
precedence left POTENCIA,MODULAR;

//-------------------------------------------GRAMATICA SINTACTICA-------------------------------------------------
start with INICIO; 

INICIO::=INSTRUCCIONES;

INSTRUCCIONES ::= INSTRUCCION INSTRUCCIONES
                  | INSTRUCCION
                  | error INSTRUCCIONES
; 

INSTRUCCION ::= RINICIO ALGORITMO RFIN
                |COMENTARIOL
                |COMENTARIOML
                |RMETODO IDENTIFICADOR ALGORITMO RFINMETODO
                |RMETODO IDENTIFICADOR RCONPARAMETROS PARIZQ LISTAPARAMETROS PARDER ALGORITMO RFINMETODO
                |RFUNCION IDENTIFICADOR TIPODATO ALGORITMOF RFINFUNCION
                |RFUNCION IDENTIFICADOR TIPODATO RCONPARAMETROS PARIZQ LISTAPARAMETROS PARDER ALGORITMOF RFINFUNCION 
;
ALGORITMO ::= ALGORITM ALGORITMO
              |ALGORITM
;
ALGORITM ::= DECLARACIÓN
             |DECLARACIONMULTIPLE
             |ASIGNACION
             |CONDICIONALSI
             |SELECCIONMULTIPLE
             |CICLOPARA
             |CICLOMIENTRAS
             |CICLOREPETIRHASTA
             |EJECUTAR
             |IMPRIMIR
             |IMPRIMIRCONSALTO
             |COMENTARIOL
             |COMENTARIOML
             |BLANCOS
;
ALGORITMOF ::= ALGORITM RETORNO
              |ALGORITM
;
LISTAPARAMETROS ::= LISTAPARAMETROS PTCOMA
                    |IDENTIFICADOR TIPODATO COMA
                    |IDENTIFICADOR TIPODATO
;
TIPODATO ::= RNUMERO
             |RCADENA
             |RBOOLEAN
             |RCARACTER
;
DECLARACION ::= RINGRESAR DECLARACIONMULTIPLE RNUMERO RCONVALOR EXPRESION PTCOMA
                |RINGRESAR DECLARACIONMULTIPLE RCADENA RCONVALOR CADENA PTCOMA
                |RINGRESAR DECLARACIONMULTIPLE RBOOLEAN RCONVALOR RVERDADERO PTCOMA
                |RINGRESAR DECLARACIONMULTIPLE RBOOLEAN RCONVALOR RFALSO PTCOMA
                |RINGRESAR DECLARACIONMULTIPLE RCARACTER RCONVALOR CARASCII PTCOMA 
                |RINGRESAR DECLARACIONMULTIPLE RCARACTER RCONVALOR CARACTER PTCOMA
;
DECLARACIONMULTIPLE ::= DECLARACIONMULTIPLE RCOMO
                        |IDENTIFICADOR COMA
                        |IDENTIFICADOR
;
EXPRESION ::= MENOS EXPRESION
              |EXPRESION SUMA
              |EXPRESION RESTA
              |EXPRESION MULTIPLICACION
              |EXPRESION DIVIDIR
              |EXPRESION POTENCIA
              |EXPRESION MODULAR
              |ENTERO
              |DECIMAL
              |PARIZQ EXPRESION PARDER
              |CORIZQ EXPRESION CORDER
;
ASIGNACION ::= ASIGNACIONMULTIPLE EXPRESION PTCOMA
               |ASIGNACIONMULTIPLE CADENA PTCOMA
               |ASIGNACIONMULTIPLE RVERDADERO PTCOMA
               |ASIGNACIONMULTIPLE RFALSO PTCOMA
               |ASIGNACIONMULTIPLE CARASCCI PTCOMA
               |ASIGNACIONMULTIPLE CARACTER PTCOMA
;
ASIGNACIONMULTIPLE ::= ASIGNACIONMULTIPLE FLECHA
                       |IDENTIFICADOR COMA
                       |IDENTIFICADOR
;
CONDICIONALSI ::= RSI CONDICION RENTONCES FINCONDICIONAL
;
FINCONDICIONAL ::= FINCONDICIONAL RFINSI
                   |ALGORITMO RDELOCONTRARIO ALGORITMO
                   |ALGORITMO ROSI CONDICION RENTONCES
                   |ALGORITMO
;
SELECCIONMULTPLE ::= RSEGUN VALOR RHACER FINSELECCION
;
FINSELECCION ::= FINSELECCION RFINSEGUN
                 |INTABRE VALOR INTCIERRA ENTONCES ALGORITMO
                 |RDELOCONTRARIO  ENTONCES ALGORITMO
;
VALOR ::= ENTERO
          |DECIMAL
          |CADENA
          |IDENTIFICADOR
          |CARACTER
          |EXPRESION
;
CICLOPARA ::= RPARA IDENTIFICADOR FLECHA VALORIF RHASTA VALORIF HACER ALGORITMO RFINPARA
              |PARA IDENTIFICADOR FLECHA VALORIF HASTA VALORIF RCONINCREMENTAL ENTERO HACER ALGORITMO RFINPARA
;
VALORIF ::= IDENTIFICADOR
            |EXPRESION
;
CICLOMIENTRAS ::= RMIENTRAS CONDICION RHACER ALGORITMO RFINMIENTRAS
;
CICLOREPETIRHASTA ::= RREPETIR ALGORITMO RHASTAQUE CONDICION
;
RETORNO ::= RRETORNAR RETORNOVALOR PTCOMA
;
RETORNOVALOR ::= EXPRESION
                 |CONDICION
;
EJECUTAR ::= REJECUTAR IDENTIFICADOR PARDER PARIZQ PTCOMA
             |REJECUTAR IDENTIFICADOR PARDER PARAMETROS PTCOMA
;
PARAMETROS ::=  PARAMETROS PARIZQ
                |IDENTIFICADOR COMA
                |EXPRESION COMA
                |EXPRESION
                |CADENA COMA
                |CADENA
                |RVERDADERO COMA
                |RFALSO COMA
                |RVERDADERO
                |RFALSO
;
IMPRIMIR ::= RIMIPRIMIR EXPRESION PTCOMA
             |RIMPRIMIR IDENTIFICADOR PTCOMA
             |RIMPRIMIR CADENA PTCOMA
             |RIMPRIMIR RVERDADERO PTCOMA
             |RIMPRIMIR RFALSO PTCOMA
;
IMPRIMIRCONSALTO ::= RIMPRIMIRNL EXPRESION PTCOMA
                    |RIMPRIMIRNL IDENTIFICADOR PTCOMA
                    |RIMPRIMIRNL CADENA PTCOMA
                    |RIMPRIMIRNL RVERDADERO PTCOMA
                    |RIMPRIMIRNL RFALSO PTCOMA
;
CONDICION ::= IDENTIFICADOR
;